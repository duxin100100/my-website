<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æœé‘« Â· äº¤äº’å¼ä¸ªäººç©ºé—´</title>
  <style>
    :root {
      --bg: #0b1224;
      --bg-alt: #0f172a;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --accent: #38bdf8;
      --accent-2: #c084fc;
      --border: #1f2937;
      --glow: 0 20px 60px rgba(56, 189, 248, 0.3);
    }

    .light {
      --bg: #f8fafc;
      --bg-alt: #eef2ff;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #475569;
      --accent: #0ea5e9;
      --accent-2: #7c3aed;
      --border: #e2e8f0;
      --glow: 0 18px 48px rgba(14, 165, 233, 0.25);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Inter", "SF Pro Text", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at 20% 20%, rgba(56, 189, 248, 0.16), transparent 28%),
        radial-gradient(circle at 90% 10%, rgba(192, 132, 252, 0.18), transparent 25%),
        var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 32px 16px 64px;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .shell {
      width: 100%;
      max-width: 1100px;
      background: linear-gradient(135deg, rgba(17, 24, 39, 0.9), rgba(17, 24, 39, 0.7));
      border: 1px solid rgba(148, 163, 184, 0.15);
      border-radius: 28px;
      backdrop-filter: blur(14px);
      box-shadow: 0 24px 80px rgba(0, 0, 0, 0.55);
      overflow: hidden;
    }

    .light .shell {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.96), rgba(255, 255, 255, 0.9));
      box-shadow: 0 16px 48px rgba(0, 0, 0, 0.1);
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 24px;
      border-bottom: 1px solid var(--border);
      background: linear-gradient(90deg, rgba(56, 189, 248, 0.12), rgba(192, 132, 252, 0.12));
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .orb {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #e0f2fe 0, var(--accent) 35%, #0f172a 72%);
      box-shadow: var(--glow), 0 0 0 1px rgba(255, 255, 255, 0.06);
    }

    h1 {
      font-size: 20px;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    nav {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    nav button,
    nav a {
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.02);
      color: var(--text);
      padding: 8px 12px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.2s ease;
      text-decoration: none;
    }

    nav button:hover,
    nav a:hover {
      border-color: rgba(148, 163, 184, 0.5);
      transform: translateY(-1px);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 14px;
      border-radius: 12px;
      background: rgba(56, 189, 248, 0.12);
      border: 1px solid rgba(56, 189, 248, 0.3);
      color: var(--text);
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 14px;
    }

    main {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 20px;
      padding: 22px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.28);
    }

    .hero {
      grid-column: span 2;
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 16px;
    }

    .hero .intro h2 {
      font-size: 32px;
      margin-bottom: 12px;
      line-height: 1.1;
    }

    .hero .intro p {
      color: var(--muted);
      line-height: 1.7;
      margin-bottom: 12px;
    }

    .pills {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 12px 0 18px;
    }

    .pill {
      padding: 8px 12px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      color: var(--text);
      border-radius: 999px;
      font-size: 13px;
    }

    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 4px;
    }

    .btn {
      border: none;
      padding: 10px 14px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.15s ease, box-shadow 0.2s ease;
    }

    .btn.primary {
      background: linear-gradient(120deg, var(--accent), var(--accent-2));
      color: #0b1021;
      box-shadow: var(--glow);
    }

    .btn.ghost {
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.25);
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px;
      margin-top: 10px;
    }

    .stat {
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.03);
    }

    .stat strong {
      display: block;
      font-size: 22px;
    }

    .highlighted-card {
      position: relative;
      overflow: hidden;
    }

    .highlighted-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 20%, rgba(56, 189, 248, 0.14), transparent 45%),
        radial-gradient(circle at 80% 10%, rgba(192, 132, 252, 0.12), transparent 55%);
      pointer-events: none;
    }

    .section-title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .section-title h3 {
      font-size: 18px;
    }

    .filter-tabs {
      display: inline-flex;
      gap: 8px;
      padding: 6px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid var(--border);
    }

    .filter-tabs button {
      border: none;
      background: transparent;
      padding: 8px 12px;
      border-radius: 10px;
      color: var(--muted);
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .filter-tabs button.active {
      background: rgba(56, 189, 248, 0.16);
      color: var(--text);
      box-shadow: var(--glow);
    }

    .projects {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }

    .project-card {
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.02);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .project-card .tags {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .tag {
      background: rgba(56, 189, 248, 0.14);
      color: var(--text);
      padding: 4px 8px;
      border-radius: 8px;
      border: 1px solid rgba(56, 189, 248, 0.25);
      font-size: 12px;
    }

    .timeline {
      display: grid;
      gap: 10px;
    }

    .timeline-item {
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.02);
      cursor: pointer;
      transition: background 0.2s ease, border-color 0.2s ease;
    }

    .timeline-item:hover {
      background: rgba(56, 189, 248, 0.06);
      border-color: rgba(56, 189, 248, 0.4);
    }

    .timeline-item .meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .timeline-item .content {
      color: var(--muted);
      line-height: 1.6;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.25s ease;
    }

    .timeline-item.active .content {
      max-height: 120px;
    }

    .skills {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .skill {
      border: 1px solid var(--border);
      padding: 10px 12px;
      border-radius: 10px;
      min-width: 120px;
      background: rgba(255, 255, 255, 0.02);
    }

    .progress {
      height: 8px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.3);
      margin-top: 8px;
      overflow: hidden;
    }

    .progress span {
      display: block;
      height: 100%;
      background: linear-gradient(120deg, var(--accent), var(--accent-2));
      border-radius: inherit;
    }

    form {
      display: grid;
      gap: 10px;
    }

    label {
      font-weight: 600;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    input,
    textarea,
    select {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.02);
      color: var(--text);
      font-size: 14px;
    }

    textarea {
      resize: vertical;
      min-height: 90px;
    }

    .note {
      color: var(--muted);
      font-size: 13px;
    }

    .message-log {
      margin-top: 10px;
      display: grid;
      gap: 8px;
    }

    .message-log .item {
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 8px 10px;
      background: rgba(255, 255, 255, 0.02);
    }

    footer {
      border-top: 1px solid var(--border);
      padding: 14px 20px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 8px;
      justify-content: space-between;
      color: var(--muted);
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
    }

    @media (max-width: 860px) {
      main {
        grid-template-columns: 1fr;
      }
      .hero {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 540px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      nav {
        width: 100%;
        justify-content: flex-start;
        flex-wrap: wrap;
      }

      .cta-row {
        width: 100%;
      }

      .cta-row .btn {
        flex: 1;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="shell">
    <header>
      <div class="brand">
        <div class="orb"></div>
        <div>
          <div class="badge">æœé‘« Â· Product & UI ä½“éªŒ</div>
          <h1>Personal Playground</h1>
        </div>
      </div>
      <nav>
        <a href="#projects">é¡¹ç›®</a>
        <a href="#timeline">åŠ¨æ€</a>
        <a href="#contact">è”ç³»</a>
        <button id="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™ ä¸»é¢˜</button>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="card highlighted-card intro">
          <h2>ä½ å¥½ï¼Œæˆ‘æ˜¯æœé‘« ğŸ‘‹</h2>
          <p>ä¸€åæ­£åœ¨æŠŠäº§å“æ€ç»´å’Œè§†è§‰ä½“éªŒç»“åˆèµ·æ¥çš„è®¾è®¡å¸ˆï¼Œå–œæ¬¢ç”¨å°å®éªŒéªŒè¯æƒ³æ³•ã€‚è¿™ä¸ªé¡µé¢è®°å½•äº†æˆ‘æœ€è¿‘çš„é¡¹ç›®ã€å­¦ä¹ å’Œç”Ÿæ´»çŠ¶æ€ï¼Œå¹¶æä¾›äº†å‡ ä¸ªå¥½ç©çš„äº¤äº’å…¥å£ã€‚</p>

          <div class="pills">
            <div class="pill">ğŸ¨ UI / äº¤äº’</div>
            <div class="pill">ğŸ’» å‰ç«¯å®è·µ</div>
            <div class="pill">ğŸ¤– AI å·¥ä½œæµ</div>
            <div class="pill">ğŸ“ˆ æ•°æ®å¯è§†åŒ–</div>
          </div>

          <div class="stats">
            <div class="stat">
              <strong>30+</strong>
              <span>äº¤ä»˜è½åœ°çš„ç•Œé¢</span>
            </div>
            <div class="stat">
              <strong>12</strong>
              <span>è‡ªç ”å°å·¥å…·</span>
            </div>
            <div class="stat">
              <strong>âˆ</strong>
              <span>æƒ³æ³•å¾…éªŒè¯</span>
            </div>
          </div>

          <div class="cta-row">
            <button class="btn primary" onclick="document.getElementById('projects').scrollIntoView({behavior: 'smooth'})">ğŸš€ æŸ¥çœ‹ä½œå“</button>
            <button class="btn ghost" onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})">âœ‰ï¸ ç•™è¨€</button>
          </div>
        </div>

        <div class="card highlighted-card">
          <div class="section-title">
            <h3>çµæ„Ÿæ¸…å•</h3>
            <small class="note" id="idea-count">å…± 0 æ¡</small>
          </div>
          <p class="note">ç‚¹å‡»ä¸‹æ–¹æ ‡ç­¾ï¼ŒéšæœºæŠ½å–ä¸€ä¸ªä»Šæ—¥å¯å°è¯•çš„å°ç»ƒä¹ ã€‚</p>
          <div class="pills" id="idea-pills"></div>
          <div class="card" style="margin-top: 10px; background: rgba(255,255,255,0.04);">
            <div class="section-title">
              <strong>ä»Šæ—¥æŒ‘æˆ˜</strong>
              <button class="btn ghost" style="padding:6px 10px;font-size:12px;" onclick="drawIdea()">å†æŠ½ä¸€ä¸ª</button>
            </div>
            <p id="idea-display" style="line-height:1.6; color: var(--text);">ç‚¹å‡»ä¸Šæ–¹æ ‡ç­¾å¼€å§‹æŠ½å–å§ã€‚</p>
          </div>
        </div>
      </section>

      <section class="card" id="projects">
        <div class="section-title">
          <h3>é¡¹ç›®é›†é”¦</h3>
          <div class="filter-tabs" id="filter-tabs"></div>
        </div>
        <p class="note">é€‰æ‹©ä¸åŒçš„æ ‡ç­¾ç­›é€‰æˆ‘æœ€è¿‘åœ¨ç©çš„é¡¹ç›®ï¼Œç‚¹å‡»å¡ç‰‡å¯ä»¥æŸ¥çœ‹è¯¦è¿°ã€‚</p>
        <div class="projects" id="project-grid"></div>
      </section>

      <section class="card" id="timeline">
        <div class="section-title">
          <h3>åŠ¨æ€æ—¶é—´çº¿</h3>
          <small class="note">ç‚¹å‡»æ¡ç›®å±•å¼€ç»†èŠ‚</small>
        </div>
        <div class="timeline" id="timeline-list"></div>
      </section>

      <section class="card" id="skills">
        <div class="section-title">
          <h3>æŠ€èƒ½ä¸ç†Ÿç»ƒåº¦</h3>
          <small class="note">åŠ¨æ€è¿›åº¦æ¡å±•ç¤ºå½“å‰å…³æ³¨</small>
        </div>
        <div class="skills" id="skill-list"></div>
      </section>

      <section class="card" id="contact">
        <div class="section-title">
          <h3>ç•™è¨€ä¸åå¥½</h3>
          <small class="note">å¡«å†™è¡¨å•å¯ç”Ÿæˆå®šåˆ¶åŒ–å›å¤</small>
        </div>
        <form id="contact-form">
          <div>
            <label for="name">æ˜µç§°</label>
            <input id="name" name="name" placeholder="ç§°å‘¼æˆ‘ä»€ä¹ˆéƒ½å¯ä»¥" required />
          </div>
          <div>
            <label for="topic">æ„Ÿå…´è¶£çš„è¯é¢˜</label>
            <select id="topic" name="topic" required>
              <option value="è®¾è®¡ä½“éªŒ">è®¾è®¡ä½“éªŒ</option>
              <option value="å‰ç«¯å®è·µ">å‰ç«¯å®è·µ</option>
              <option value="AI å·¥ä½œæµ">AI å·¥ä½œæµ</option>
              <option value="å‰¯ä¸š/æŠ•èµ„">å‰¯ä¸š / æŠ•èµ„</option>
            </select>
          </div>
          <div>
            <label for="message">ç•™è¨€</label>
            <textarea id="message" name="message" placeholder="æƒ³èŠçš„äº‹æƒ…..." required></textarea>
          </div>
          <button class="btn primary" type="submit">å‘é€å¹¶ç”Ÿæˆå›å¤</button>
          <p class="note" id="form-hint">è¡¨å•ä¸ä¼šå‘é€åˆ°æœåŠ¡å™¨ï¼Œå†…å®¹ä»…åœ¨æœ¬åœ°å­˜å‚¨ï¼Œæ–¹ä¾¿ä½ åå¤ä¿®æ”¹ã€‚</p>
        </form>
        <div class="message-log" id="message-log"></div>
      </section>
    </main>

    <footer>
      <span>Â© <span id="year"></span> æœé‘« Â· ç”¨ä»£ç è®°å½•çµæ„Ÿ</span>
      <span>æ‰˜ç®¡äº <a href="https://github.com" target="_blank" rel="noreferrer">GitHub</a></span>
    </footer>
  </div>

  <script>
    // ä¸»é¢˜åˆ‡æ¢
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('light');
      themeToggle.textContent = document.body.classList.contains('light') ? 'ğŸŒ ä¸»é¢˜' : 'ğŸŒ™ ä¸»é¢˜';
      localStorage.setItem('duxin-theme', document.body.classList.contains('light') ? 'light' : 'dark');
    });

    // æ¢å¤ä¸»é¢˜
    const savedTheme = localStorage.getItem('duxin-theme');
    if (savedTheme === 'light') {
      document.body.classList.add('light');
      themeToggle.textContent = 'ğŸŒ ä¸»é¢˜';
    }

    // åŸºæœ¬æ•°æ®
    const ideas = [
      { tag: 'å‰ç«¯', text: 'ç”¨åŸç”Ÿ JS åšä¸€ä¸ªå¸¦åŠ¨ç”»çš„å¯¼èˆªèœå•æˆ– Loading ç»„ä»¶ã€‚' },
      { tag: 'è®¾è®¡', text: 'æ‹†è§£ä¸€ä¸ªå¸¸ç”¨ App çš„é¦–é¡µä¿¡æ¯æ¶æ„ï¼Œå¹¶é‡ç»˜è§†è§‰å±‚çº§ã€‚' },
      { tag: 'AI', text: 'å†™ä¸€æ¡ Prompt å¸®åŠ©ä½ æŠŠéœ€æ±‚è½¬æˆçº¿æ¡†ï¼Œè®°å½•æœ€ä½³å®è·µã€‚' },
      { tag: 'ä½“éªŒ', text: 'è§‚å¯Ÿçº¿ä¸‹ä½“éªŒï¼ˆå’–å•¡é¦†/åœ°é“ï¼‰ï¼Œæ€»ç»“å¯è¿ç§»åˆ° App çš„å¾®äº¤äº’ã€‚' },
      { tag: 'æ•°æ®', text: 'ç”¨ CSV + Chart.js åšä¸€ä¸ªä¸ªäººä¹ æƒ¯è¿½è¸ª Dashboardã€‚' }
    ];

    const projects = [
      { title: 'åœ¨çº¿æŠ å›¾å°å·¥å…·', tags: ['å‰ç«¯', 'AI'], desc: 'åŸºäº Canvas ä¸å¼€æºæ¨¡å‹æ¥å£ï¼Œæä¾›å¿«é€ŸæŠ å›¾ä¸æ‰¹é‡å¯¼å‡ºã€‚' },
      { title: 'é“¶è¡Œç”Ÿæ´»æœåŠ¡ç»„ä»¶åº“', tags: ['è®¾è®¡', 'å‰ç«¯'], desc: 'æ•´ç†é«˜é¢‘åœºæ™¯çš„ UI ç»„ä»¶ï¼Œé™„è§„èŒƒã€åŠ¨æ•ˆä¸å¯è§†åŒ–ç¤ºä¾‹ã€‚' },
      { title: 'å·¥ä½œæµè‡ªåŠ¨åŒ–åŠ©æ‰‹', tags: ['AI'], desc: 'ç”¨æç¤ºå·¥ç¨‹æŠŠé‡å¤éœ€æ±‚æ‹†è§£æˆå¯å¤ç”¨çš„å·¥ä½œæµæ¨¡æ¿ã€‚' },
      { title: 'ä¸ªäººæ•°æ®ä»ªè¡¨ç›˜', tags: ['æ•°æ®', 'å‰ç«¯'], desc: 'é›†ä¸­å±•ç¤ºä¹ æƒ¯ã€é˜…è¯»ã€å¥èº«ç­‰æ•°æ®çš„å¯è§†åŒ– Dashboardã€‚' },
      { title: 'ä½“éªŒå¾®å®éªŒåˆé›†', tags: ['ä½“éªŒ', 'è®¾è®¡'], desc: 'æ¯å‘¨ä¸€ä¸ªå°äº¤äº’å®éªŒï¼Œè®°å½•æ€è·¯ã€åŸå‹å’Œåé¦ˆã€‚' }
    ];

    const timeline = [
      { title: 'æ­å»ºä¸ªäººç«™', time: '2025.02', detail: 'ç¬¬ä¸€æ¬¡æŠŠä¸ªäººä¿¡æ¯æ”¾åœ¨ GitHub Pages ä¸Šï¼Œå¼€å§‹è®°å½•ä¾§é¡¹ç›®ã€‚' },
      { title: 'æ•´ç†ç»„ä»¶åº“', time: '2025.03', detail: 'åœ¨å›¢é˜Ÿå†…è¾“å‡ºâ€œç”Ÿæ´»æœåŠ¡â€åœºæ™¯ç»„ä»¶ï¼Œæ²‰æ·€äº¤äº’è§„èŒƒã€‚' },
      { title: 'å‰ç«¯ç»ƒä¹ æœˆ', time: '2025.04', detail: 'ç”¨åŸç”Ÿ HTML/CSS/JS é‡åšè¿‡å¾€ä½œå“ï¼Œç†Ÿæ‚‰éƒ¨ç½²æµç¨‹ã€‚' },
      { title: 'AI Prompt æ‰‹å†Œ', time: 'æŒç»­', detail: 'æ¯å‘¨æ›´æ–° 2 æ¡é’ˆå¯¹è®¾è®¡åä½œçš„æç¤ºè¯ï¼Œå¹¶åšæ•ˆæœå¤ç›˜ã€‚' }
    ];

    const skills = [
      { name: 'äº§å“ / äº¤äº’', level: 86 },
      { name: 'UI è§†è§‰', level: 82 },
      { name: 'å‰ç«¯åŸºç¡€', level: 60 },
      { name: 'æ•°æ®å¯è§†åŒ–', level: 55 },
      { name: 'æç¤ºè¯å·¥ç¨‹', level: 70 }
    ];

    // æ¸²æŸ“çµæ„Ÿ
    const ideaPills = document.getElementById('idea-pills');
    const ideaDisplay = document.getElementById('idea-display');
    const ideaCount = document.getElementById('idea-count');
    ideaCount.textContent = `å…± ${ideas.length} æ¡`;

    ideas.forEach((idea, index) => {
      const pill = document.createElement('button');
      pill.className = 'btn ghost';
      pill.style.padding = '8px 12px';
      pill.textContent = idea.tag;
      pill.addEventListener('click', () => drawIdea(index));
      ideaPills.appendChild(pill);
    });

    function drawIdea(fixedIndex) {
      const id = fixedIndex !== undefined ? fixedIndex : Math.floor(Math.random() * ideas.length);
      ideaDisplay.textContent = ideas[id].text;
    }

    // é¡¹ç›®ç­›é€‰
    const filterTabs = document.getElementById('filter-tabs');
    const projectGrid = document.getElementById('project-grid');
    const allTags = Array.from(new Set(projects.flatMap(p => p.tags)));
    let activeTag = 'å…¨éƒ¨';

    ['å…¨éƒ¨', ...allTags].forEach(tag => {
      const btn = document.createElement('button');
      btn.textContent = tag;
      btn.className = tag === 'å…¨éƒ¨' ? 'active' : '';
      btn.addEventListener('click', () => {
        activeTag = tag;
        document.querySelectorAll('.filter-tabs button').forEach(el => el.classList.remove('active'));
        btn.classList.add('active');
        renderProjects();
      });
      filterTabs.appendChild(btn);
    });

    function renderProjects() {
      projectGrid.innerHTML = '';
      projects
        .filter(p => activeTag === 'å…¨éƒ¨' || p.tags.includes(activeTag))
        .forEach(p => {
          const card = document.createElement('div');
          card.className = 'project-card';
          card.innerHTML = `<strong>${p.title}</strong><p class="note">${p.desc}</p>`;
          const tagsWrap = document.createElement('div');
          tagsWrap.className = 'tags';
          p.tags.forEach(t => {
            const span = document.createElement('span');
            span.className = 'tag';
            span.textContent = t;
            tagsWrap.appendChild(span);
          });
          card.appendChild(tagsWrap);
          card.addEventListener('click', () => {
            alert(`${p.title}\n\n${p.desc}\n\næ ‡ç­¾: ${p.tags.join(', ')}`);
          });
          projectGrid.appendChild(card);
        });
    }

    renderProjects();

    // æ—¶é—´çº¿
    const timelineList = document.getElementById('timeline-list');
    timeline.forEach((item, idx) => {
      const row = document.createElement('div');
      row.className = 'timeline-item';
      row.innerHTML = `
        <div class="meta"><span>${item.title}</span><small class="note">${item.time}</small></div>
        <div class="content">${item.detail}</div>
      `;
      row.addEventListener('click', () => {
        document.querySelectorAll('.timeline-item').forEach(el => el.classList.remove('active'));
        row.classList.toggle('active');
      });
      if (idx === 0) row.classList.add('active');
      timelineList.appendChild(row);
    });

    // æŠ€èƒ½æ¡
    const skillList = document.getElementById('skill-list');
    skills.forEach(skill => {
      const box = document.createElement('div');
      box.className = 'skill';
      box.innerHTML = `<strong>${skill.name}</strong><div class="progress"><span style="width:${skill.level}%"></span></div>`;
      skillList.appendChild(box);
    });

    // è¡¨å•äº’åŠ¨ï¼šç”Ÿæˆå®šåˆ¶å›å¤ + æœ¬åœ°å­˜å‚¨
    const contactForm = document.getElementById('contact-form');
    const messageLog = document.getElementById('message-log');

    const savedMessages = JSON.parse(localStorage.getItem('duxin-messages') || '[]');
    savedMessages.forEach(renderMessage);

    contactForm.addEventListener('submit', event => {
      event.preventDefault();
      const data = new FormData(contactForm);
      const name = data.get('name').trim();
      const topic = data.get('topic');
      const message = data.get('message').trim();
      if (!name || !message) return;

      const reply = generateReply(name, topic, message);
      const record = { name, topic, message, reply, ts: new Date().toLocaleString() };
      renderMessage(record, true);

      savedMessages.push(record);
      localStorage.setItem('duxin-messages', JSON.stringify(savedMessages));

      contactForm.reset();
      document.getElementById('form-hint').textContent = 'å·²ç”Ÿæˆå®šåˆ¶å›å¤ï¼Œå†…å®¹ä¿å­˜åœ¨æœ¬åœ°ï¼Œå¯ä»¥ç»§ç»­ä¿®æ”¹ã€‚';
    });

    function renderMessage(record, prepend = false) {
      const item = document.createElement('div');
      item.className = 'item';
      item.innerHTML = `
        <strong>${record.name} Â· ${record.topic}</strong>
        <div class="note">${record.ts}</div>
        <p style="margin:6px 0;">${record.message}</p>
        <div class="note">å›å¤ï¼š${record.reply}</div>
      `;
      if (prepend) {
        messageLog.prepend(item);
      } else {
        messageLog.appendChild(item);
      }
    }

    function generateReply(name, topic, message) {
      const tone = {
        'è®¾è®¡ä½“éªŒ': 'ä¿æŒç”¨æˆ·è§†è§’çš„æ•é”åº¦ï¼Œå¹¶å¼ºè°ƒå¯ç”¨æ€§éªŒè¯',
        'å‰ç«¯å®è·µ': 'å…³æ³¨æ€§èƒ½ä¸ç»†èŠ‚ä½“éªŒï¼ŒåŒæ—¶ç”¨å®éªŒé©±åŠ¨å­¦ä¹ ',
        'AI å·¥ä½œæµ': 'å¤šåšå°æ ·æœ¬éªŒè¯ï¼ŒæŠŠæ¨¡å‹å½“æ­æ¡£è€Œéé»‘ç›’',
        'å‰¯ä¸š / æŠ•èµ„': 'æ§åˆ¶é£é™©ï¼Œç”¨å¯ç§¯ç´¯çš„æŠ€èƒ½é©±åŠ¨ç°é‡‘æµ'
      }[topic] || 'ä¿æŒå¥½å¥‡ï¼ŒæŒç»­è®°å½•';

      return `${name}ï¼Œè°¢è°¢ä½ çš„ç•™è¨€ï¼æˆ‘ä¼šå›´ç»•ã€Œ${topic}ã€ç»§ç»­è¾“å‡ºå†…å®¹ã€‚ä½ çš„æƒ³æ³•ã€Œ${message}ã€å¬èµ·æ¥å¾ˆæ£’ï¼Œåç»­æ›´æ–°ä¼šä¼˜å…ˆè€ƒè™‘è¿™ä¸€æ–¹å‘ï¼Œä¹Ÿæ¬¢è¿éšæ—¶äº¤æµã€‚å»ºè®®ï¼š${tone}ã€‚`;
    }

    // å¹´ä»½
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
